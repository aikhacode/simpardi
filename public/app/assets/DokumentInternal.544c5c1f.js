import{s as N,_ as T,l as F,F as L,r as a,o as h,c as _,a as o,e as l,w as r,g as f,t as p,n as y,j as v,p as R,f as B}from"./index.45393aaa.js";import{P as O}from"./ProductService.232c8ba0.js";const A={extends:N};const M={components:{FileUploadArsip:A},data(){return{uploadUrl:F("/upload-arsip"),products:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},submitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}},productService:null,created(){this.productService=new O,this.initFilters()},mounted(){this.productService.getProducts().then(i=>this.products=i)},methods:{formatCurrency(i){if(i)return i.toLocaleString("en-US",{style:"currency",currency:"USD"})},openNew(){this.product={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(i){this.product={...i},this.productDialog=!0},confirmDeleteProduct(i){this.product=i,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(i=>i.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(i){let s=-1;for(let m=0;m<this.products.length;m++)if(this.products[m].id===i){s=m;break}return s},createId(){let i="";for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m=0;m<5;m++)i+=s.charAt(Math.floor(Math.random()*s.length));return i},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(i=>!this.selectedProducts.includes(i)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:L.CONTAINS}}},upload(i){console.log("uploaded event trigg",i),this.$toast.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})}}},d=i=>(R("data-v-9e4367e6"),i=i(),B(),i),q={class:"grid"},j={class:"col-12"},K={class:"card"},z={class:"my-2"},E={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},Y=d(()=>o("h5",{class:"m-0"},"Manage Products",-1)),Q={class:"block mt-2 md:mt-0 p-input-icon-left"},W=d(()=>o("i",{class:"pi pi-search"},null,-1)),G=d(()=>o("span",{class:"p-column-title"},"Code",-1)),H=d(()=>o("span",{class:"p-column-title"},"Name",-1)),J=d(()=>o("span",{class:"p-column-title"},"Image",-1)),X=["src","alt"],Z=d(()=>o("span",{class:"p-column-title"},"Price",-1)),$=d(()=>o("span",{class:"p-column-title"},"Category",-1)),ee=d(()=>o("span",{class:"p-column-title"},"Rating",-1)),te=d(()=>o("span",{class:"p-column-title"},"Status",-1)),oe=["src","alt"],se={class:"field"},le=d(()=>o("label",{for:"name"},"Name",-1)),ie={key:0,class:"p-invalid"},de={class:"field"},re=d(()=>o("label",{for:"description"},"Description",-1)),ae={class:"field"},ne=d(()=>o("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1)),ce={key:0},ue={key:1},pe={key:2},me={class:"field"},he=d(()=>o("label",{class:"mb-3"},"Category",-1)),_e={class:"formgrid grid"},fe={class:"field-radiobutton col-6"},ge=d(()=>o("label",{for:"category1"},"Accessories",-1)),ye={class:"field-radiobutton col-6"},ve=d(()=>o("label",{for:"category2"},"Clothing",-1)),be={class:"field-radiobutton col-6"},Se=d(()=>o("label",{for:"category3"},"Electronics",-1)),Ce={class:"field-radiobutton col-6"},we=d(()=>o("label",{for:"category4"},"Fitness",-1)),ke={class:"formgrid grid"},De={class:"field col"},Pe=d(()=>o("label",{for:"price"},"Price",-1)),xe={class:"field col"},Ve=d(()=>o("label",{for:"quantity"},"Quantity",-1)),Ue={class:"flex align-items-center justify-content-center"},Ie=d(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ne={key:0},Te=f("Are you sure you want to delete "),Fe=f("?"),Le={class:"flex align-items-center justify-content-center"},Re=d(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Be={key:0};function Oe(i,s,m,Ae,t,n){const w=a("Toast"),c=a("Button"),k=a("Toolbar"),S=a("InputText"),u=a("Column"),D=a("Rating"),P=a("DataTable"),x=a("FileUpload"),V=a("Textarea"),U=a("Dropdown"),g=a("RadioButton"),C=a("InputNumber"),b=a("Dialog");return h(),_("div",q,[o("div",j,[o("div",K,[l(w),l(k,{class:"mb-4"},{start:r(()=>[o("div",z,[l(c,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:n.openNew},null,8,["onClick"]),l(c,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:n.confirmDeleteSelected,disabled:!t.selectedProducts||!t.selectedProducts.length},null,8,["onClick","disabled"])])]),end:r(()=>[]),_:1}),l(P,{ref:"dt",value:t.products,selection:t.selectedProducts,"onUpdate:selection":s[1]||(s[1]=e=>t.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:t.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:r(()=>[o("div",E,[Y,o("span",Q,[W,l(S,{modelValue:t.filters.global.value,"onUpdate:modelValue":s[0]||(s[0]=e=>t.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:r(()=>[l(u,{selectionMode:"multiple",headerStyle:"width: 3rem"}),l(u,{field:"code",header:"Code",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(e=>[G,f(" "+p(e.data.code),1)]),_:1}),l(u,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(e=>[H,f(" "+p(e.data.name),1)]),_:1}),l(u,{header:"Image",headerStyle:"width:14%; min-width:10rem;"},{body:r(e=>[J,o("img",{src:"images/product/"+e.data.image,alt:e.data.image,class:"shadow-2",width:"100"},null,8,X)]),_:1}),l(u,{field:"price",header:"Price",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:r(e=>[Z,f(" "+p(n.formatCurrency(e.data.price)),1)]),_:1}),l(u,{field:"category",header:"Category",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(e=>[$,f(" "+p(n.formatCurrency(e.data.category)),1)]),_:1}),l(u,{field:"rating",header:"Reviews",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(e=>[ee,l(D,{modelValue:e.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"])]),_:1}),l(u,{field:"inventoryStatus",header:"Status",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(e=>[te,o("span",{class:y("product-badge status-"+(e.data.inventoryStatus?e.data.inventoryStatus.toLowerCase():""))},p(e.data.inventoryStatus),3)]),_:1}),l(u,{headerStyle:"min-width:10rem;"},{body:r(e=>[l(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:I=>n.editProduct(e.data)},null,8,["onClick"]),l(c,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:I=>n.confirmDeleteProduct(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),l(b,{visible:t.productDialog,"onUpdate:visible":s[12]||(s[12]=e=>t.productDialog=e),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:r(()=>[l(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:n.hideDialog},null,8,["onClick"]),l(c,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:n.saveProduct},null,8,["onClick"])]),default:r(()=>[t.product.image?(h(),_("img",{key:0,src:"images/product/"+t.product.image,alt:t.product.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,oe)):v("",!0),l(x,{mode:"basic",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.jpg,.png,.tiff,.bmp",maxFileSize:1e6,label:"Upload",chooseLabel:"Upload",class:"mr-2 inline-block",url:"/upload",onUpload:s[2]||(s[2]=e=>n.upload(e))}),o("div",se,[le,l(S,{id:"name",modelValue:t.product.name,"onUpdate:modelValue":s[3]||(s[3]=e=>t.product.name=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:y({"p-invalid":t.submitted&&!t.product.name})},null,8,["modelValue","class"]),t.submitted&&!t.product.name?(h(),_("small",ie,"Name is required.")):v("",!0)]),o("div",de,[re,l(V,{id:"description",modelValue:t.product.description,"onUpdate:modelValue":s[4]||(s[4]=e=>t.product.description=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),o("div",ae,[ne,l(U,{id:"inventoryStatus",modelValue:t.product.inventoryStatus,"onUpdate:modelValue":s[5]||(s[5]=e=>t.product.inventoryStatus=e),options:t.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:r(e=>[e.value&&e.value.value?(h(),_("div",ce,[o("span",{class:y("product-badge status-"+e.value.value)},p(e.value.label),3)])):e.value&&!e.value.value?(h(),_("div",ue,[o("span",{class:y("product-badge status-"+e.value.toLowerCase())},p(e.value),3)])):(h(),_("span",pe,p(e.placeholder),1))]),_:1},8,["modelValue","options"])]),o("div",me,[he,o("div",_e,[o("div",fe,[l(g,{id:"category1",name:"category",value:"Accessories",modelValue:t.product.category,"onUpdate:modelValue":s[6]||(s[6]=e=>t.product.category=e)},null,8,["modelValue"]),ge]),o("div",ye,[l(g,{id:"category2",name:"category",value:"Clothing",modelValue:t.product.category,"onUpdate:modelValue":s[7]||(s[7]=e=>t.product.category=e)},null,8,["modelValue"]),ve]),o("div",be,[l(g,{id:"category3",name:"category",value:"Electronics",modelValue:t.product.category,"onUpdate:modelValue":s[8]||(s[8]=e=>t.product.category=e)},null,8,["modelValue"]),Se]),o("div",Ce,[l(g,{id:"category4",name:"category",value:"Fitness",modelValue:t.product.category,"onUpdate:modelValue":s[9]||(s[9]=e=>t.product.category=e)},null,8,["modelValue"]),we])])]),o("div",ke,[o("div",De,[Pe,l(C,{id:"price",modelValue:t.product.price,"onUpdate:modelValue":s[10]||(s[10]=e=>t.product.price=e),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),o("div",xe,[Ve,l(C,{id:"quantity",modelValue:t.product.quantity,"onUpdate:modelValue":s[11]||(s[11]=e=>t.product.quantity=e),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),l(b,{visible:t.deleteProductDialog,"onUpdate:visible":s[14]||(s[14]=e=>t.deleteProductDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:r(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[13]||(s[13]=e=>t.deleteProductDialog=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deleteProduct},null,8,["onClick"])]),default:r(()=>[o("div",Ue,[Ie,t.product?(h(),_("span",Ne,[Te,o("b",null,p(t.product.name),1),Fe])):v("",!0)])]),_:1},8,["visible"]),l(b,{visible:t.deleteProductsDialog,"onUpdate:visible":s[16]||(s[16]=e=>t.deleteProductsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:r(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[15]||(s[15]=e=>t.deleteProductsDialog=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:n.deleteSelectedProducts},null,8,["onClick"])]),default:r(()=>[o("div",Le,[Re,t.product?(h(),_("span",Be,"Are you sure you want to delete the selected products?")):v("",!0)])]),_:1},8,["visible"])])])])}var je=T(M,[["render",Oe],["__scopeId","data-v-9e4367e6"]]);export{je as default};
