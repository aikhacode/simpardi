import{_ as I,u as T,F as U,r as n,o as a,c as u,a as s,d as i,w as d,t as h,g as N,h as L,i as g,n as b,p as B,e as O,f as k,j as F}from"./index.3792577c.js";import{P as q}from"./ProductService.232c8ba0.js";const A={data(){return{columnKeyDisplay:null,products:null,columnData:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},submitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],store:T()}},productService:null,created(){this.productService=new q,this.initFilters()},mounted(){this.products=this.store.pegawai.data,this.products.length>0&&(this.columnKeyDisplay=Object.keys(this.products[0]),console.log("before",this.columnKeyDisplay),this.columnKeyDisplay=this.columnKeyDisplay.filter(l=>l!="nama"&&l!="id"&&l!="created_at"&&l!="updated_at").map(l=>({title:l.charAt(0).toUpperCase()+l.slice(1),field:l,type:l=="tmt_skcpns"||l=="tmt_pensiun"||l=="tgl_sipsik"||l=="tgl_str"?"dateTime":"default",formatData:this.formatDataValue})),console.log("after",this.columnKeyDisplay))},methods:{formatDataValue(l,o){switch(l){case"dateTime":return new Date(o).toLocaleDateString("id-ID");case"currency":return this.formatCurrency(o);default:return o}},formatCurrency(l){if(l)return l.toLocaleString("id-ID",{style:"currency",currency:"IDR"})},openNew(){this.product={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(l){this.product={...l},this.productDialog=!0},confirmDeleteProduct(l){this.product=l,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(l=>l.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(l){let o=-1;for(let m=0;m<this.products.length;m++)if(this.products[m].id===l){o=m;break}return o},createId(){let l="";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m=0;m<5;m++)l+=o.charAt(Math.floor(Math.random()*o.length));return l},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(l=>!this.selectedProducts.includes(l)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:U.CONTAINS}}}}},r=l=>(B("data-v-477ce6ac"),l=l(),O(),l),M={class:"grid"},R={class:"col-12"},j={class:"card"},E={class:"my-2"},z={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},K=r(()=>s("h5",{class:"m-0"},"Data Pegawai",-1)),Y={class:"block mt-2 md:mt-0 p-input-icon-left"},Q=r(()=>s("i",{class:"pi pi-search"},null,-1)),W=r(()=>s("span",{class:"p-column-title"},"Nama",-1)),G={class:"flex align-items-center"},H=["src"],J=["src"],X={style:{"margin-left":"0.5em","vertical-align":"middle"},class:"image-text"},Z={class:"p-column-title"},$={class:"flex align-items-center"},ee={style:{"margin-left":"0.5em","vertical-align":"middle"},class:"image-text"},te=["src","alt"],oe={class:"field"},se=r(()=>s("label",{for:"name"},"Nama",-1)),le={key:0,class:"p-invalid"},ie={class:"field"},re=r(()=>s("label",{for:"description"},"Description",-1)),de={class:"field"},ae=r(()=>s("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1)),ce={key:0},ne={key:1},ue={key:2},pe={class:"field"},me=r(()=>s("label",{class:"mb-3"},"Category",-1)),he={class:"formgrid grid"},_e={class:"field-radiobutton col-6"},fe=r(()=>s("label",{for:"category1"},"Accessories",-1)),ge={class:"field-radiobutton col-6"},ye=r(()=>s("label",{for:"category2"},"Clothing",-1)),ve={class:"field-radiobutton col-6"},be=r(()=>s("label",{for:"category3"},"Electronics",-1)),De={class:"field-radiobutton col-6"},Se=r(()=>s("label",{for:"category4"},"Fitness",-1)),ke={class:"formgrid grid"},we={class:"field col"},Pe=r(()=>s("label",{for:"price"},"Price",-1)),xe={class:"field col"},Ce=r(()=>s("label",{for:"quantity"},"Quantity",-1)),Ve={class:"flex align-items-center justify-content-center"},Ie=r(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Te={key:0},Ue=k("Are you sure you want to delete "),Ne=k("?"),Le={class:"flex align-items-center justify-content-center"},Be=r(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Oe={key:0};function Fe(l,o,m,qe,t,p){const w=n("Toast"),c=n("Button"),P=n("Toolbar"),D=n("InputText"),_=n("Column"),x=n("DataTable"),C=n("Textarea"),V=n("Dropdown"),f=n("RadioButton"),S=n("InputNumber"),y=n("Dialog");return a(),u("div",M,[s("div",R,[s("div",j,[i(w),i(P,{class:"mb-4"},{start:d(()=>[s("div",E,[i(c,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:p.openNew},null,8,["onClick"]),i(c,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:p.confirmDeleteSelected,disabled:!t.selectedProducts||!t.selectedProducts.length},null,8,["onClick","disabled"])])]),end:d(()=>[i(c,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:o[0]||(o[0]=e=>p.exportCSV(e))})]),_:1}),i(x,{ref:"dt",value:t.products,selection:t.selectedProducts,"onUpdate:selection":o[2]||(o[2]=e=>t.selectedProducts=e),dataKey:"id",paginator:!0,rows:10,filters:t.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:d(()=>[s("div",z,[K,s("span",Y,[Q,i(D,{modelValue:t.filters.global.value,"onUpdate:modelValue":o[1]||(o[1]=e=>t.filters.global.value=e),placeholder:"Search..."},null,8,["modelValue"])])])]),default:d(()=>[i(_,{selectionMode:"multiple",headerStyle:"width: 3rem"}),i(_,{field:"nama",header:"Nama",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(e=>[W,s("span",G,[e.data.avatar?(a(),u("img",{key:1,alt:"",src:e.data.avatar,width:"32",style:{"vertical-align":"middle"}},null,8,J)):(a(),u("img",{key:0,alt:"",src:"images/avatar/doctor.png",width:"32",style:{"vertical-align":"middle"}},null,8,H)),s("span",X,h(e.data.nama),1)])]),_:1}),(a(!0),u(N,null,L(t.columnKeyDisplay,e=>(a(),F(_,{field:e.field,header:e.title,sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:d(v=>[s("span",Z,h(e.title),1),s("span",$,[s("span",ee,h(e.formatData(e.type,v.data[e.field])),1)])]),_:2},1032,["field","header"]))),256)),i(_,{headerStyle:"min-width:10rem;"},{body:d(e=>[i(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:v=>p.editProduct(e.data)},null,8,["onClick"]),i(c,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:v=>p.confirmDeleteProduct(e.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),i(y,{visible:t.productDialog,"onUpdate:visible":o[12]||(o[12]=e=>t.productDialog=e),style:{width:"450px"},header:"Data Pegawai",modal:!0,class:"p-fluid"},{footer:d(()=>[i(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:p.hideDialog},null,8,["onClick"]),i(c,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:p.saveProduct},null,8,["onClick"])]),default:d(()=>[t.product.image?(a(),u("img",{key:0,src:"images/product/"+t.product.image,alt:t.product.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,te)):g("",!0),s("div",oe,[se,i(D,{id:"name",modelValue:t.product.nama,"onUpdate:modelValue":o[3]||(o[3]=e=>t.product.nama=e),modelModifiers:{trim:!0},required:"true",autofocus:"",class:b({"p-invalid":t.submitted&&!t.product.name})},null,8,["modelValue","class"]),t.submitted&&!t.product.name?(a(),u("small",le,"Nama is required.")):g("",!0)]),s("div",ie,[re,i(C,{id:"description",modelValue:t.product.description,"onUpdate:modelValue":o[4]||(o[4]=e=>t.product.description=e),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),s("div",de,[ae,i(V,{id:"inventoryStatus",modelValue:t.product.inventoryStatus,"onUpdate:modelValue":o[5]||(o[5]=e=>t.product.inventoryStatus=e),options:t.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(e=>[e.value&&e.value.value?(a(),u("div",ce,[s("span",{class:b("product-badge status-"+e.value.value)},h(e.value.label),3)])):e.value&&!e.value.value?(a(),u("div",ne,[s("span",{class:b("product-badge status-"+e.value.toLowerCase())},h(e.value),3)])):(a(),u("span",ue,h(e.placeholder),1))]),_:1},8,["modelValue","options"])]),s("div",pe,[me,s("div",he,[s("div",_e,[i(f,{id:"category1",name:"category",value:"Accessories",modelValue:t.product.category,"onUpdate:modelValue":o[6]||(o[6]=e=>t.product.category=e)},null,8,["modelValue"]),fe]),s("div",ge,[i(f,{id:"category2",name:"category",value:"Clothing",modelValue:t.product.category,"onUpdate:modelValue":o[7]||(o[7]=e=>t.product.category=e)},null,8,["modelValue"]),ye]),s("div",ve,[i(f,{id:"category3",name:"category",value:"Electronics",modelValue:t.product.category,"onUpdate:modelValue":o[8]||(o[8]=e=>t.product.category=e)},null,8,["modelValue"]),be]),s("div",De,[i(f,{id:"category4",name:"category",value:"Fitness",modelValue:t.product.category,"onUpdate:modelValue":o[9]||(o[9]=e=>t.product.category=e)},null,8,["modelValue"]),Se])])]),s("div",ke,[s("div",we,[Pe,i(S,{id:"price",modelValue:t.product.price,"onUpdate:modelValue":o[10]||(o[10]=e=>t.product.price=e),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),s("div",xe,[Ce,i(S,{id:"quantity",modelValue:t.product.quantity,"onUpdate:modelValue":o[11]||(o[11]=e=>t.product.quantity=e),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),i(y,{visible:t.deleteProductDialog,"onUpdate:visible":o[14]||(o[14]=e=>t.deleteProductDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[i(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[13]||(o[13]=e=>t.deleteProductDialog=!1)}),i(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:p.deleteProduct},null,8,["onClick"])]),default:d(()=>[s("div",Ve,[Ie,t.product?(a(),u("span",Te,[Ue,s("b",null,h(t.product.name),1),Ne])):g("",!0)])]),_:1},8,["visible"]),i(y,{visible:t.deleteProductsDialog,"onUpdate:visible":o[16]||(o[16]=e=>t.deleteProductsDialog=e),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[i(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[15]||(o[15]=e=>t.deleteProductsDialog=!1)}),i(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:p.deleteSelectedProducts},null,8,["onClick"])]),default:d(()=>[s("div",Le,[Be,t.product?(a(),u("span",Oe,"Are you sure you want to delete the selected products?")):g("",!0)])]),_:1},8,["visible"])])])])}var Re=I(A,[["render",Fe],["__scopeId","data-v-477ce6ac"]]);export{Re as default};
