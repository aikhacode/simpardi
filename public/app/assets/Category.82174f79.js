import{_ as w,j as U,k as I,u as N,F as T,r as n,o as p,c as m,a as s,d as l,w as d,i as f,n as v,t as _,p as L,e as B,f as C}from"./index.bf7f7054.js";import{P as O}from"./ProductService.232c8ba0.js";const A={data(){return{products:null,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,product:{},selectedProducts:null,filters:{},submitted:!1,statuses:[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}},productService:null,created(){this.productService=new O,this.initFilters()},mounted(){U({method:"GET",url:I("/categories"),headers:{Authorization:`Bearer ${N().token}`}}).then(i=>{this.products=i.data})},methods:{formatCurrency(i){if(i)return i.toLocaleString("en-US",{style:"currency",currency:"USD"})},openNew(){this.product={},this.submitted=!1,this.productDialog=!0},hideDialog(){this.productDialog=!1,this.submitted=!1},saveProduct(){this.submitted=!0,this.product.name.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.$toast.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.$toast.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.productDialog=!1,this.product={})},editProduct(i){this.product={...i},this.productDialog=!0},confirmDeleteProduct(i){this.product=i,this.deleteProductDialog=!0},deleteProduct(){this.products=this.products.filter(i=>i.id!==this.product.id),this.deleteProductDialog=!1,this.product={},this.$toast.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},findIndexById(i){let o=-1;for(let u=0;u<this.products.length;u++)if(this.products[u].id===i){o=u;break}return o},createId(){let i="";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<5;u++)i+=o.charAt(Math.floor(Math.random()*o.length));return i},exportCSV(){this.$refs.dt.exportCSV()},confirmDeleteSelected(){this.deleteProductsDialog=!0},deleteSelectedProducts(){this.products=this.products.filter(i=>!this.selectedProducts.includes(i)),this.deleteProductsDialog=!1,this.selectedProducts=null,this.$toast.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},initFilters(){this.filters={global:{value:null,matchMode:T.CONTAINS}}}}},r=i=>(L("data-v-0a4324fc"),i=i(),B(),i),F={class:"card"},q={class:"table-header flex flex-column md:flex-row md:justiify-content-between"},M=r(()=>s("h5",{class:"mb-2 md:m-0 p-as-md-center"},"Manage Products",-1)),R={class:"p-input-icon-left"},K=r(()=>s("i",{class:"pi pi-search"},null,-1)),z=["alt"],E={class:"field"},j=r(()=>s("label",{for:"name"},"Name",-1)),Y={key:0,class:"p-error"},G={class:"field"},Q=r(()=>s("label",{for:"description"},"Description",-1)),W={class:"field"},H=r(()=>s("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1)),J={key:0},X={key:1},Z={key:2},$={class:"field"},ee=r(()=>s("label",{class:"mb-3"},"Category",-1)),te={class:"formgrid grid"},oe={class:"field-radiobutton col-6"},se=r(()=>s("label",{for:"category1"},"Accessories",-1)),le={class:"field-radiobutton col-6"},ie=r(()=>s("label",{for:"category2"},"Clothing",-1)),re={class:"field-radiobutton col-6"},de=r(()=>s("label",{for:"category3"},"Electronics",-1)),ce={class:"field-radiobutton col-6"},ne=r(()=>s("label",{for:"category4"},"Fitness",-1)),ue={class:"formgrid grid"},ae={class:"field col"},pe=r(()=>s("label",{for:"price"},"Price",-1)),me={class:"field col"},he=r(()=>s("label",{for:"quantity"},"Quantity",-1)),fe={class:"confirmation-content"},_e=r(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),ge={key:0},ve=C("Are you sure you want to delete "),ye=C("?"),be={class:"confirmation-content"},Se=r(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ce={key:0};function ke(i,o,u,Pe,e,a){const c=n("Button"),k=n("Toolbar"),y=n("InputText"),b=n("Column"),P=n("DataTable"),D=n("Textarea"),V=n("Dropdown"),h=n("RadioButton"),S=n("InputNumber"),g=n("Dialog");return p(),m("div",null,[s("div",F,[l(k,{class:"mb-4"},{start:d(()=>[l(c,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:a.openNew},null,8,["onClick"]),l(c,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:a.confirmDeleteSelected,disabled:!e.selectedProducts||!e.selectedProducts.length},null,8,["onClick","disabled"])]),end:d(()=>[]),_:1}),l(P,{ref:"dt",value:e.products,selection:e.selectedProducts,"onUpdate:selection":o[1]||(o[1]=t=>e.selectedProducts=t),dataKey:"id",paginator:!0,rows:10,filters:e.filters,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll"},{header:d(()=>[s("div",q,[M,s("span",R,[K,l(y,{modelValue:e.filters.global.value,"onUpdate:modelValue":o[0]||(o[0]=t=>e.filters.global.value=t),placeholder:"Search..."},null,8,["modelValue"])])])]),default:d(()=>[l(b,{field:"category",header:"Category",sortable:!0,style:{"min-width":"10rem"}}),l(b,{exportable:!1,style:{"min-width":"8rem"}},{body:d(t=>[l(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:x=>a.editProduct(t.data)},null,8,["onClick"]),l(c,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning",onClick:x=>a.confirmDeleteProduct(t.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"])]),l(g,{visible:e.productDialog,"onUpdate:visible":o[11]||(o[11]=t=>e.productDialog=t),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:d(()=>[l(c,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:a.hideDialog},null,8,["onClick"]),l(c,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:a.saveProduct},null,8,["onClick"])]),default:d(()=>[e.product.image?(p(),m("img",{key:0,src:"https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png",alt:e.product.image,class:"product-image"},null,8,z)):f("",!0),s("div",E,[j,l(y,{id:"name",modelValue:e.product.name,"onUpdate:modelValue":o[2]||(o[2]=t=>e.product.name=t),modelModifiers:{trim:!0},required:"true",autofocus:"",class:v({"p-invalid":e.submitted&&!e.product.name})},null,8,["modelValue","class"]),e.submitted&&!e.product.name?(p(),m("small",Y,"Name is required.")):f("",!0)]),s("div",G,[Q,l(D,{id:"description",modelValue:e.product.description,"onUpdate:modelValue":o[3]||(o[3]=t=>e.product.description=t),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),s("div",W,[H,l(V,{id:"inventoryStatus",modelValue:e.product.inventoryStatus,"onUpdate:modelValue":o[4]||(o[4]=t=>e.product.inventoryStatus=t),options:e.statuses,optionLabel:"label",placeholder:"Select a Status"},{value:d(t=>[t.value&&t.value.value?(p(),m("div",J,[s("span",{class:v("product-badge status-"+t.value.value)},_(t.value.label),3)])):t.value&&!t.value.value?(p(),m("div",X,[s("span",{class:v("product-badge status-"+t.value.toLowerCase())},_(t.value),3)])):(p(),m("span",Z,_(t.placeholder),1))]),_:1},8,["modelValue","options"])]),s("div",$,[ee,s("div",te,[s("div",oe,[l(h,{id:"category1",name:"category",value:"Accessories",modelValue:e.product.category,"onUpdate:modelValue":o[5]||(o[5]=t=>e.product.category=t)},null,8,["modelValue"]),se]),s("div",le,[l(h,{id:"category2",name:"category",value:"Clothing",modelValue:e.product.category,"onUpdate:modelValue":o[6]||(o[6]=t=>e.product.category=t)},null,8,["modelValue"]),ie]),s("div",re,[l(h,{id:"category3",name:"category",value:"Electronics",modelValue:e.product.category,"onUpdate:modelValue":o[7]||(o[7]=t=>e.product.category=t)},null,8,["modelValue"]),de]),s("div",ce,[l(h,{id:"category4",name:"category",value:"Fitness",modelValue:e.product.category,"onUpdate:modelValue":o[8]||(o[8]=t=>e.product.category=t)},null,8,["modelValue"]),ne])])]),s("div",ue,[s("div",ae,[pe,l(S,{id:"price",modelValue:e.product.price,"onUpdate:modelValue":o[9]||(o[9]=t=>e.product.price=t),mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue"])]),s("div",me,[he,l(S,{id:"quantity",modelValue:e.product.quantity,"onUpdate:modelValue":o[10]||(o[10]=t=>e.product.quantity=t),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),l(g,{visible:e.deleteProductDialog,"onUpdate:visible":o[13]||(o[13]=t=>e.deleteProductDialog=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[12]||(o[12]=t=>e.deleteProductDialog=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:a.deleteProduct},null,8,["onClick"])]),default:d(()=>[s("div",fe,[_e,e.product?(p(),m("span",ge,[ve,s("b",null,_(e.product.name),1),ye])):f("",!0)])]),_:1},8,["visible"]),l(g,{visible:e.deleteProductsDialog,"onUpdate:visible":o[15]||(o[15]=t=>e.deleteProductsDialog=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:d(()=>[l(c,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:o[14]||(o[14]=t=>e.deleteProductsDialog=!1)}),l(c,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:a.deleteSelectedProducts},null,8,["onClick"])]),default:d(()=>[s("div",be,[Se,e.product?(p(),m("span",Ce,"Are you sure you want to delete the selected products?")):f("",!0)])]),_:1},8,["visible"])])}const xe=w(A,[["render",ke],["__scopeId","data-v-0a4324fc"]]);export{xe as default};
