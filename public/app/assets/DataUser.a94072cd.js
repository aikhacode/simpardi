import{S as H,_ as O}from"./UserService.541b3bf1.js";import{_ as Y,b as q,r as t,d as G,c as T,a as o,e as a,w as n,F as J,p as Q,f as W,g as X,h as m,o as I,i as c,t as k,j as Z,n as g}from"./index.110fcee2.js";const i=h=>(Q("data-v-8c9dd29d"),h=h(),W(),h),ee={class:"grid"},le={class:"col-12"},se={class:"card"},ae=i(()=>o("h5",null,"Users",-1)),oe={class:"flex justify-content-between flex-column sm:flex-row"},te={class:"p-input-icon-left mb-2"},ne=i(()=>o("i",{class:"pi pi-search"},null,-1)),de=c(" No users found. "),ie=c(" Loading users data. Please wait. "),ue={class:"flex align-items-center justify-content-center"},re=i(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),me={key:0},ce=c("Anda yakin menghapus "),ve=c("?"),pe=i(()=>o("div",{class:"text-center mb-5"},[o("img",{src:O,alt:"Image",height:"40",class:""})],-1)),fe=i(()=>o("label",{for:"name",class:"block text-900 font-medium mb-2"},"Nama",-1)),_e=i(()=>o("label",{for:"username",class:"block text-900 font-medium mb-2"},"User name",-1)),be=i(()=>o("label",{for:"email1",class:"block text-900 font-medium mb-2"},"Email",-1)),we=i(()=>o("label",{for:"role",class:"block text-900 font-medium mb-2"},"Role",-1)),ge=i(()=>o("label",{for:"password1",class:"block text-900 font-medium mb-2"},"Password",-1)),he=i(()=>o("label",{for:"password2",class:"block text-900 font-medium mb-2"},"Confirmed Password",-1)),ye={__name:"DataUser",setup(h){const C=q(),y=t(null),e=t({}),v=t(!1),p=t(null),U=t(!0),f=t(!1),_=t(!1),D=t(""),u=t(!1),F=t([{name:"Admin",value:"Admin"},{name:"user",value:"user"}]),N=t("user"),b=H,P=()=>{p.value={global:{value:null,matchMode:X.CONTAINS}}},B=()=>{_.value=!0,u.value=!1,D.value="New",v.value=!0,e.value={}},A=d=>{e.value=d,console.log("del",d),f.value=!0},E=()=>{console.log("akan",e.value),b.delete(e.value).then(d=>{C.add({severity:"success",summary:"User deleted",detail:"User deleted",life:3e3}),b.getUsers().then(s=>{y.value=s,U.value=!1}),f.value=!1})},R=d=>{u.value=!1,v.value=!1,D.value="Edit",e.value={...d},_.value=!0,console.log(d)},x=()=>e.value.name&&e.value.email&&e.value.password1!=null&&e.value.password2!=null&&e.value.password1==e.value.password2,j=d=>{u.value=!0,console.log(x()),x()&&(v.value&&(e.value.role=N.value,console.log("nw",e.value)),b.saveUser(e.value,v.value).then(s=>{C.add({severity:"success",summary:"User saved",detail:"User saved",life:3e3}),console.log(s),b.getUsers().then(r=>{y.value=r,U.value=!1}),_.value=!1,v.value=!1}).catch(s=>{console.log(s),C.add({severity:"error",summary:"User failed to saved",detail:"User failed to saved",life:3e3})}))};return P(),G(()=>{b.getUsers().then(d=>{y.value=d,U.value=!1})}),(d,s)=>{const r=m("Button"),V=m("InputText"),w=m("Column"),L=m("DataTable"),S=m("Dialog"),$=m("Dropdown"),M=m("Password"),z=m("Toast");return I(),T(J,null,[o("div",ee,[o("div",le,[o("div",se,[ae,a(L,{value:y.value,paginator:!0,class:"p-datatable-gridlines",rows:10,dataKey:"id",rowHover:!0,filters:p.value,"onUpdate:filters":s[1]||(s[1]=l=>p.value=l),filterDisplay:"menu",loading:U.value,responsiveLayout:"scroll",globalFilterFields:["name","email","role"]},{header:n(()=>[o("div",oe,[a(r,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:B,ref:"open_new"},null,512),o("span",te,[ne,a(V,{modelValue:p.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=l=>p.value.global.value=l),placeholder:"Keyword Search",style:{width:"100%"}},null,8,["modelValue"])])])]),empty:n(()=>[de]),loading:n(()=>[ie]),default:n(()=>[a(w,{field:"name",header:"Name",style:{"min-width":"12rem"}},{body:n(({data:l})=>[c(k(l.name),1)]),_:1}),a(w,{field:"username",header:"User Name",style:{"min-width":"12rem"}}),a(w,{field:"email",header:"Email",style:{"min-width":"12rem"}},{body:n(({data:l})=>[c(k(l.email),1)]),_:1}),a(w,{field:"role",header:"Role",style:{"min-width":"12rem"}},{body:n(({data:l})=>[c(k(l.role),1)]),_:1}),a(w,{headerStyle:"min-width:10rem;"},{body:n(l=>[a(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:K=>R(l.data)},null,8,["onClick"]),a(r,{icon:"pi pi-trash",class:"p-button-rounded p-button-warning mt-2",onClick:K=>A(l.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])]),a(S,{visible:f.value,"onUpdate:visible":s[3]||(s[3]=l=>f.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[a(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:s[2]||(s[2]=l=>f.value=!1)}),a(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:E})]),default:n(()=>[o("div",ue,[re,e.value?(I(),T("span",me,[ce,o("b",null,k(e.value.email),1),ve])):Z("",!0)])]),_:1},8,["visible"]),a(S,{visible:_.value,"onUpdate:visible":s[10]||(s[10]=l=>_.value=l),style:{width:"450px"},header:"User Form - "+D.value,modal:!0},{default:n(()=>[pe,o("div",null,[fe,a(V,{id:"name",modelValue:e.value.name,"onUpdate:modelValue":s[4]||(s[4]=l=>e.value.name=l),modelModifiers:{trim:!0},type:"text",class:g(["w-full mb-3",{"p-invalid":u.value&&!e.value.name}])},null,8,["modelValue","class"]),_e,a(V,{id:"username",modelValue:e.value.username,"onUpdate:modelValue":s[5]||(s[5]=l=>e.value.username=l),modelModifiers:{trim:!0},type:"text",class:g(["w-full mb-3",{"p-invalid":u.value&&!e.value.username}])},null,8,["modelValue","class"]),be,a(V,{id:"email1",modelValue:e.value.email,"onUpdate:modelValue":s[6]||(s[6]=l=>e.value.email=l),modelModifiers:{trim:!0},disabled:!v.value,type:"text",class:g(["w-full mb-3",{"p-invalid":u.value&&!e.value.email}])},null,8,["modelValue","disabled","class"]),we,a($,{modelValue:N.value,"onUpdate:modelValue":s[7]||(s[7]=l=>N.value=l),options:F.value,optionLabel:"name",optionValue:"value",placeholder:"Role"},null,8,["modelValue","options"]),ge,a(M,{id:"password1",modelValue:e.value.password1,"onUpdate:modelValue":s[8]||(s[8]=l=>e.value.password1=l),placeholder:"Password",toggleMask:!0,class:g(["w-full mb-3",{"p-invalid":u.value&&!x()}]),inputClass:"w-full",inputStyle:"padding:1rem"},null,8,["modelValue","class"]),he,a(M,{id:"password2",modelValue:e.value.password2,"onUpdate:modelValue":s[9]||(s[9]=l=>e.value.password2=l),placeholder:"Password",toggleMask:!0,class:g(["w-full mb-3",{"p-invalid":u.value&&!x()}]),inputClass:"w-full",inputStyle:"padding:1rem"},null,8,["modelValue","class"]),a(r,{label:"Save",icon:"pi pi-user",class:"w-full",onClick:j})])]),_:1},8,["visible","header"]),a(z)],64)}}},Ve=Y(ye,[["__scopeId","data-v-8c9dd29d"]]);export{Ve as default};
